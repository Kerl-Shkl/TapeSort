# TapeSort

Проект моделирует и решает задачу сортировки ленты (Tape). Устройство хранения
данных типа лента предназначено для последовательной записи и чтения
данных. Считывающая/записывающая магнитная головка неподвижна во время чтения и
записи, а лента имеет возможность двигаться в обоих направлениях. Запись и
чтение информации возможны в ячейку ленты, на которой в данный момент находится
магнитная головка. Перемещения ленты – затратная по времени операция – лента не
предназначена для произвольного доступа.

Модели ленты представлены библиотекой *Tape*. В этой библиотеке реализован
интерфейс ленты, модель использующая файл и модель использующая
```std::vector```. Также в ней содержится класс ```TapeTimeModel``` который
является декоратором и позволяет задать временные задержки для операций с
лентой.

В библиотеке *TapeSort* реализовано два алгоритма для сортировки ленты. Первый
алгоритм ```TapeMergeSort``` работает по принципу сортировки слиянием и
использует промежуточные ленты, а второй алгоритм ```TapeInserSort``` работает
по принципу сортировки вставкой и использует только буфер оперативной памяти.
Оба алгоритма принимают на вход исходную ленту, выходную ленту, в которую будет
записан результат и доступный объем оперативной памяти.

Проект компилируется в консольное приложение, которое реализует сортировку
данных с входной ленты на выходную. Приложение считывает данные конфигурации из
файла настроек, который можно задать через аргументы командной строки (по
умолчанию используется файл settings.txt. В нем же представлен синтаксис для
задания настроек). Если в конфигурации количество промежуточных лент равно нулю,
то используется ```TapeInserSort```, иначе используется ```TapeMergeSort```.

## Сборка
Проект собирается при помощи cmake:
```bash
cmake -S . -B build -DBUILD_TESTS=ON
cmake --build build
```

После этого директории build будет находится исполняемый файл tape_sorter.

Также после сборки можно запустить тесты:
```bash
ctest --test-dir build/tests
```

## Использование

Приложение принимает на вход исходный файл, выходной файл и, опционально, файл
конфигурации.
```bash
build/tape_sorter srcFile dstFile [--settings filename (default = settings.txt)]
```
Промежуточные ленты приложение разместит в директории tmp.
